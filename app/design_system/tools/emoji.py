#!/usr/bin/env python3
"""
Haqiqiy iOS Style Emoji Downloader va Flutter Code Generator
Bu script iOS'ning o'zidagi emoji'larni yuklab oladi
"""

import os
import json
import requests
from urllib.parse import quote
import time
import unicodedata

class iOSEmojiDownloader:
    def __init__(self, output_dir="flutter_project"):
        self.output_dir = output_dir
        self.assets_dir = os.path.join(output_dir, "assets", "emojis")
        self.lib_dir = os.path.join(output_dir, "lib")

        # Create directories
        os.makedirs(self.assets_dir, exist_ok=True)
        os.makedirs(self.lib_dir, exist_ok=True)

        # Popular emojis list
        self.emoji_list = [
            "😀",
            "😃",
            "😄",
            "😁",
            "😆",
            "😅",
            "🤣",
            "😂",
            "🙂",
            "🙃",
            "🫠",
            "😉",
            "😊",
            "😇",
            "🥰",
            "😍",
            "🤩",
            "😘",
            "😗",
            "☺️",
            "😚",
            "😙",
            "🥲",
            "😋",
            "😛",
            "😜",
            "🤪",
            "😝",
            "🤑",
            "🤗",
            "🤭",
            "🫢",
            "🫣",
            "🤫",
            "🤔",
            "🫡",
            "🤐",
            "🤨",
            "😐",
            "😑",
            "😶",
            "🫥",
            "😶‍🌫️",
            "😏",
            "😒",
            "🙄",
            "😬",
            "😮‍💨",
            "🤥",
            "🫨",
            "🙂‍↔️",
            "🙂‍↕️",
            "😌",
            "😔",
            "😪",
            "🤤",
            "😴",
            "🫩",
            "😷",
            "🤒",
            "🤕",
            "🤢",
            "🤮",
            "🤧",
            "🥵",
            "🥶",
            "🥴",
            "😵",
            "😵‍💫",
            "🤯",
            "🤠",
            "🥳",
            "🥸",
            "😎",
            "🤓",
            "🧐",
            "😕",
            "🫤",
            "😟",
            "🙁",
            "☹️",
            "😮",
            "😯",
            "😲",
            "😳",
            "🥺",
            "🥹",
            "😦",
            "😧",
            "😨",
            "😰",
            "😥",
            "😢",
            "😭",
            "😱",
            "😖",
            "😣",
            "😞",
            "😓",
            "😩",
            "😫",
            "🥱",
            "😤",
            "😡",
            "😠",
            "🤬",
            "😈",
            "👿",
            "💀",
            "☠️",
            "💩",
            "🤡",
            "👹",
            "👺",
            "👻",
            "👽",
            "👾",
            "🤖",
            "😺",
            "😸",
            "😹",
            "😻",
            "😼",
            "😽",
            "🙀",
            "😿",
            "😾",
            "🙈",
            "🙉",
            "🙊",
            "💌",
            "💘",
            "💝",
            "💖",
            "💗",
            "💓",
            "💞",
            "💕",
            "💟",
            "❣️",
            "💔",
            "❤️‍🔥",
            "❤️‍🩹",
            "❤️",
            "🩷",
            "🧡",
            "💛",
            "💚",
            "💙",
            "🩵",
            "💜",
            "🤎",
            "🖤",
            "🩶",
            "🤍",
            "💋",
            "💯",
            "💢",
            "💥",
            "💫",
            "💦",
            "💨",
            "🕳️",
            "💬",
            "👁️‍🗨️",
            "🗨️",
            "🗯️",
            "💭",
            "💤",
            "👋",
            "🤚",
            "🖐️",
            "✋",
            "🖖",
            "🫱",
            "🫲",
            "🫳",
            "🫴",
            "🫷",
            "🫸",
            "👌",
            "🤌",
            "🤏",
            "✌️",
            "🤞",
            "🫰",
            "🤟",
            "🤘",
            "🤙",
            "👈",
            "👉",
            "👆",
            "🖕",
            "👇",
            "☝️",
            "🫵",
            "👍",
            "👎",
            "✊",
            "👊",
            "🤛",
            "🤜",
            "👏",
            "🙌",
            "🫶",
            "👐",
            "🤲",
            "🤝",
            "🙏",
            "✍️",
            "💅",
            "🤳",
            "💪",
            "🦾",
            "🦿",
            "🦵",
            "🦶",
            "👂",
            "🦻",
            "👃",
            "🧠",
            "🫀",
            "🫁",
            "🦷",
            "🦴",
            "👀",
            "👁️",
            "👅",
            "👄",
            "🫦",
            "👶",
            "🧒",
            "👦",
            "👧",
            "🧑",
            "👱",
            "👨",
            "🧔",
            "🧔‍♂️",
            "🧔‍♀️",
            "👨‍🦰",
            "👨‍🦱",
            "👨‍🦳",
            "👨‍🦲",
            "👩",
            "👩‍🦰",
            "🧑‍🦰",
            "👩‍🦱",
            "🧑‍🦱",
            "👩‍🦳",
            "🧑‍🦳",
            "👩‍🦲",
            "🧑‍🦲",
            "👱‍♀️",
            "👱‍♂️",
            "🧓",
            "👴",
            "👵",
            "🙍",
            "🙍‍♂️",
            "🙍‍♀️",
            "🙎",
            "🙎‍♂️",
            "🙎‍♀️",
            "🙅",
            "🙅‍♂️",
            "🙅‍♀️",
            "🙆",
            "🙆‍♂️",
            "🙆‍♀️",
            "💁",
            "💁‍♂️",
            "💁‍♀️",
            "🙋",
            "🙋‍♂️",
            "🙋‍♀️",
            "🧏",
            "🧏‍♂️",
            "🧏‍♀️",
            "🙇",
            "🙇‍♂️",
            "🙇‍♀️",
            "🤦",
            "🤦‍♂️",
            "🤦‍♀️",
            "🤷",
            "🤷‍♂️",
            "🤷‍♀️",
            "🧑‍⚕️",
            "👨‍⚕️",
            "👩‍⚕️",
            "🧑‍🎓",
            "👨‍🎓",
            "👩‍🎓",
            "🧑‍🏫",
            "👨‍🏫",
            "👩‍🏫",
            "🧑‍⚖️",
            "👨‍⚖️",
            "👩‍⚖️",
            "🧑‍🌾",
            "👨‍🌾",
            "👩‍🌾",
            "🧑‍🍳",
            "👨‍🍳",
            "👩‍🍳",
            "🧑‍🔧",
            "👨‍🔧",
            "👩‍🔧",
            "🧑‍🏭",
            "👨‍🏭",
            "👩‍🏭",
            "🧑‍💼",
            "👨‍💼",
            "👩‍💼",
            "🧑‍🔬",
            "👨‍🔬",
            "👩‍🔬",
            "🧑‍💻",
            "👨‍💻",
            "👩‍💻",
            "🧑‍🎤",
            "👨‍🎤",
            "👩‍🎤",
            "🧑‍🎨",
            "👨‍🎨",
            "👩‍🎨",
            "🧑‍✈️",
            "👨‍✈️",
            "👩‍✈️",
            "🧑‍🚀",
            "👨‍🚀",
            "👩‍🚀",
            "🧑‍🚒",
            "👨‍🚒",
            "👩‍🚒",
            "👮",
            "👮‍♂️",
            "👮‍♀️",
            "🕵️",
            "🕵️‍♂️",
            "🕵️‍♀️",
            "💂",
            "💂‍♂️",
            "💂‍♀️",
            "🥷",
            "👷",
            "👷‍♂️",
            "👷‍♀️",
            "🫅",
            "🤴",
            "👸",
            "👳",
            "👳‍♂️",
            "👳‍♀️",
            "👲",
            "🧕",
            "🤵",
            "🤵‍♂️",
            "🤵‍♀️",
            "👰",
            "👰‍♂️",
            "👰‍♀️",
            "🤰",
            "🫃",
            "🫄",
            "🤱",
            "👩‍🍼",
            "👨‍🍼",
            "🧑‍🍼",
            "👼",
            "🎅",
            "🤶",
            "🧑‍🎄",
            "🦸",
            "🦸‍♂️",
            "🦸‍♀️",
            "🦹",
            "🦹‍♂️",
            "🦹‍♀️",
            "🧙",
            "🧙‍♂️",
            "🧙‍♀️",
            "🧚",
            "🧚‍♂️",
            "🧚‍♀️",
            "🧛",
            "🧛‍♂️",
            "🧛‍♀️",
            "🧜",
            "🧜‍♂️",
            "🧜‍♀️",
            "🧝",
            "🧝‍♂️",
            "🧝‍♀️",
            "🧞",
            "🧞‍♂️",
            "🧞‍♀️",
            "🧟",
            "🧟‍♂️",
            "🧟‍♀️",
            "🧌",
            "💆",
            "💆‍♂️",
            "💆‍♀️",
            "💇",
            "💇‍♂️",
            "💇‍♀️",
            "🚶",
            "🚶‍♂️",
            "🚶‍♀️",
            "🚶‍➡️",
            "🚶‍♀️‍➡️",
            "🚶‍♂️‍➡️",
            "🧍",
            "🧍‍♂️",
            "🧍‍♀️",
            "🧎",
            "🧎‍♂️",
            "🧎‍♀️",
            "🧎‍➡️",
            "🧎‍♀️‍➡️",
            "🧎‍♂️‍➡️",
            "🧑‍🦯",
            "🧑‍🦯‍➡️",
            "👨‍🦯",
            "👨‍🦯‍➡️",
            "👩‍🦯",
            "👩‍🦯‍➡️",
            "🧑‍🦼",
            "🧑‍🦼‍➡️",
            "👨‍🦼",
            "👨‍🦼‍➡️",
            "👩‍🦼",
            "👩‍🦼‍➡️",
            "🧑‍🦽",
            "🧑‍🦽‍➡️",
            "👨‍🦽",
            "👨‍🦽‍➡️",
            "👩‍🦽",
            "👩‍🦽‍➡️",
            "🏃",
            "🏃‍♂️",
            "🏃‍♀️",
            "🏃‍➡️",
            "🏃‍♀️‍➡️",
            "🏃‍♂️‍➡️",
            "💃",
            "🕺",
            "🕴️",
            "👯",
            "👯‍♂️",
            "👯‍♀️",
            "🧖",
            "🧖‍♂️",
            "🧖‍♀️",
            "🧗",
            "🧗‍♂️",
            "🧗‍♀️",
            "🤺",
            "🏇",
            "⛷️",
            "🏂",
            "🏌️",
            "🏌️‍♂️",
            "🏌️‍♀️",
            "🏄",
            "🏄‍♂️",
            "🏄‍♀️",
            "🚣",
            "🚣‍♂️",
            "🚣‍♀️",
            "🏊",
            "🏊‍♂️",
            "🏊‍♀️",
            "⛹️",
            "⛹️‍♂️",
            "⛹️‍♀️",
            "🏋️",
            "🏋️‍♂️",
            "🏋️‍♀️",
            "🚴",
            "🚴‍♂️",
            "🚴‍♀️",
            "🚵",
            "🚵‍♂️",
            "🚵‍♀️",
            "🤸",
            "🤸‍♂️",
            "🤸‍♀️",
            "🤼",
            "🤼‍♂️",
            "🤼‍♀️",
            "🤽",
            "🤽‍♂️",
            "🤽‍♀️",
            "🤾",
            "🤾‍♂️",
            "🤾‍♀️",
            "🤹",
            "🤹‍♂️",
            "🤹‍♀️",
            "🧘",
            "🧘‍♂️",
            "🧘‍♀️",
            "🛀",
            "🛌",
            "🧑‍🤝‍🧑",
            "👭",
            "👫",
            "👬",
            "💏",
            "👩‍❤️‍💋‍👨",
            "👨‍❤️‍💋‍👨",
            "👩‍❤️‍💋‍👩",
            "💑",
            "👩‍❤️‍👨",
            "👨‍❤️‍👨",
            "👩‍❤️‍👩",
            "👨‍👩‍👦",
            "👨‍👩‍👧",
            "👨‍👩‍👧‍👦",
            "👨‍👩‍👦‍👦",
            "👨‍👩‍👧‍👧",
            "👨‍👨‍👦",
            "👨‍👨‍👧",
            "👨‍👨‍👧‍👦",
            "👨‍👨‍👦‍👦",
            "👨‍👨‍👧‍👧",
            "👩‍👩‍👦",
            "👩‍👩‍👧",
            "👩‍👩‍👧‍👦",
            "👩‍👩‍👦‍👦",
            "👩‍👩‍👧‍👧",
            "👨‍👦",
            "👨‍👦‍👦",
            "👨‍👧",
            "👨‍👧‍👦",
            "👨‍👧‍👧",
            "👩‍👦",
            "👩‍👦‍👦",
            "👩‍👧",
            "👩‍👧‍👦",
            "👩‍👧‍👧",
            "🗣️",
            "👤",
            "👥",
            "🫂",
            "👪",
            "🧑‍🧑‍🧒",
            "🧑‍🧑‍🧒‍🧒",
            "🧑‍🧒",
            "🧑‍🧒‍🧒",
            "👣",
            "🫆",
            "🐵",
            "🐒",
            "🦍",
            "🦧",
            "🐶",
            "🐕",
            "🦮",
            "🐕‍🦺",
            "🐩",
            "🐺",
            "🦊",
            "🦝",
            "🐱",
            "🐈",
            "🐈‍⬛",
            "🦁",
            "🐯",
            "🐅",
            "🐆",
            "🐴",
            "🫎",
            "🫏",
            "🐎",
            "🦄",
            "🦓",
            "🦌",
            "🦬",
            "🐮",
            "🐂",
            "🐃",
            "🐄",
            "🐷",
            "🐖",
            "🐗",
            "🐽",
            "🐏",
            "🐑",
            "🐐",
            "🐪",
            "🐫",
            "🦙",
            "🦒",
            "🐘",
            "🦣",
            "🦏",
            "🦛",
            "🐭",
            "🐁",
            "🐀",
            "🐹",
            "🐰",
            "🐇",
            "🐿️",
            "🦫",
            "🦔",
            "🦇",
            "🐻",
            "🐻‍❄️",
            "🐨",
            "🐼",
            "🦥",
            "🦦",
            "🦨",
            "🦘",
            "🦡",
            "🐾",
            "🦃",
            "🐔",
            "🐓",
            "🐣",
            "🐤",
            "🐥",
            "🐦",
            "🐧",
            "🕊️",
            "🦅",
            "🦆",
            "🦢",
            "🦉",
            "🦤",
            "🪶",
            "🦩",
            "🦚",
            "🦜",
            "🪽",
            "🐦‍⬛",
            "🪿",
            "🐦‍🔥",
            "🐸",
            "🐊",
            "🐢",
            "🦎",
            "🐍",
            "🐲",
            "🐉",
            "🦕",
            "🦖",
            "🐳",
            "🐋",
            "🐬",
            "🦭",
            "🐟",
            "🐠",
            "🐡",
            "🦈",
            "🐙",
            "🐚",
            "🪸",
            "🪼",
            "🦀",
            "🦞",
            "🦐",
            "🦑",
            "🦪",
            "🐌",
            "🦋",
            "🐛",
            "🐜",
            "🐝",
            "🪲",
            "🐞",
            "🦗",
            "🪳",
            "🕷️",
            "🕸️",
            "🦂",
            "🦟",
            "🪰",
            "🪱",
            "🦠",
            "💐",
            "🌸",
            "💮",
            "🪷",
            "🏵️",
            "🌹",
            "🥀",
            "🌺",
            "🌻",
            "🌼",
            "🌷",
            "🪻",
            "🌱",
            "🪴",
            "🌲",
            "🌳",
            "🌴",
            "🌵",
            "🌾",
            "🌿",
            "☘️",
            "🍀",
            "🍁",
            "🍂",
            "🍃",
            "🪹",
            "🪺",
            "🍄",
            "🪾",
            "🍇",
            "🍈",
            "🍉",
            "🍊",
            "🍋",
            "🍋‍🟩",
            "🍌",
            "🍍",
            "🥭",
            "🍎",
            "🍏",
            "🍐",
            "🍑",
            "🍒",
            "🍓",
            "🫐",
            "🥝",
            "🍅",
            "🫒",
            "🥥",
            "🥑",
            "🍆",
            "🥔",
            "🥕",
            "🌽",
            "🌶️",
            "🫑",
            "🥒",
            "🥬",
            "🥦",
            "🧄",
            "🧅",
            "🥜",
            "🫘",
            "🌰",
            "🫚",
            "🫛",
            "🍄‍🟫",
            "🫜",
            "🍞",
            "🥐",
            "🥖",
            "🫓",
            "🥨",
            "🥯",
            "🥞",
            "🧇",
            "🧀",
            "🍖",
            "🍗",
            "🥩",
            "🥓",
            "🍔",
            "🍟",
            "🍕",
            "🌭",
            "🥪",
            "🌮",
            "🌯",
            "🫔",
            "🥙",
            "🧆",
            "🥚",
            "🍳",
            "🥘",
            "🍲",
            "🫕",
            "🥣",
            "🥗",
            "🍿",
            "🧈",
            "🧂",
            "🥫",
            "🍱",
            "🍘",
            "🍙",
            "🍚",
            "🍛",
            "🍜",
            "🍝",
            "🍠",
            "🍢",
            "🍣",
            "🍤",
            "🍥",
            "🥮",
            "🍡",
            "🥟",
            "🥠",
            "🥡",
            "🍦",
            "🍧",
            "🍨",
            "🍩",
            "🍪",
            "🎂",
            "🍰",
            "🧁",
            "🥧",
            "🍫",
            "🍬",
            "🍭",
            "🍮",
            "🍯",
            "🍼",
            "🥛",
            "☕",
            "🫖",
            "🍵",
            "🍶",
            "🍾",
            "🍷",
            "🍸",
            "🍹",
            "🍺",
            "🍻",
            "🥂",
            "🥃",
            "🫗",
            "🥤",
            "🧋",
            "🧃",
            "🧉",
            "🧊",
            "🥢",
            "🍽️",
            "🍴",
            "🥄",
            "🔪",
            "🫙",
            "🏺",
            "🌍",
            "🌎",
            "🌏",
            "🌐",
            "🗺️",
            "🗾",
            "🧭",
            "🏔️",
            "⛰️",
            "🌋",
            "🗻",
            "🏕️",
            "🏖️",
            "🏜️",
            "🏝️",
            "🏞️",
            "🏟️",
            "🏛️",
            "🏗️",
            "🧱",
            "🪨",
            "🪵",
            "🛖",
            "🏘️",
            "🏚️",
            "🏠",
            "🏡",
            "🏢",
            "🏣",
            "🏤",
            "🏥",
            "🏦",
            "🏨",
            "🏩",
            "🏪",
            "🏫",
            "🏬",
            "🏭",
            "🏯",
            "🏰",
            "💒",
            "🗼",
            "🗽",
            "⛪",
            "🕌",
            "🛕",
            "🕍",
            "⛩️",
            "🕋",
            "⛲",
            "⛺",
            "🌁",
            "🌃",
            "🏙️",
            "🌄",
            "🌅",
            "🌆",
            "🌇",
            "🌉",
            "♨️",
            "🎠",
            "🛝",
            "🎡",
            "🎢",
            "💈",
            "🎪",
            "🚂",
            "🚃",
            "🚄",
            "🚅",
            "🚆",
            "🚇",
            "🚈",
            "🚉",
            "🚊",
            "🚝",
            "🚞",
            "🚋",
            "🚌",
            "🚍",
            "🚎",
            "🚐",
            "🚑",
            "🚒",
            "🚓",
            "🚔",
            "🚕",
            "🚖",
            "🚗",
            "🚘",
            "🚙",
            "🛻",
            "🚚",
            "🚛",
            "🚜",
            "🏎️",
            "🏍️",
            "🛵",
            "🦽",
            "🦼",
            "🛺",
            "🚲",
            "🛴",
            "🛹",
            "🛼",
            "🚏",
            "🛣️",
            "🛤️",
            "🛢️",
            "⛽",
            "🛞",
            "🚨",
            "🚥",
            "🚦",
            "🛑",
            "🚧",
            "⚓",
            "🛟",
            "⛵",
            "🛶",
            "🚤",
            "🛳️",
            "⛴️",
            "🛥️",
            "🚢",
            "✈️",
            "🛩️",
            "🛫",
            "🛬",
            "🪂",
            "💺",
            "🚁",
            "🚟",
            "🚠",
            "🚡",
            "🛰️",
            "🚀",
            "🛸",
            "🛎️",
            "🧳",
            "⌛",
            "⏳",
            "⌚",
            "⏰",
            "⏱️",
            "⏲️",
            "🕰️",
            "🕛",
            "🕧",
            "🕐",
            "🕜",
            "🕑",
            "🕝",
            "🕒",
            "🕞",
            "🕓",
            "🕟",
            "🕔",
            "🕠",
            "🕕",
            "🕡",
            "🕖",
            "🕢",
            "🕗",
            "🕣",
            "🕘",
            "🕤",
            "🕙",
            "🕥",
            "🕚",
            "🕦",
            "🌑",
            "🌒",
            "🌓",
            "🌔",
            "🌕",
            "🌖",
            "🌗",
            "🌘",
            "🌙",
            "🌚",
            "🌛",
            "🌜",
            "🌡️",
            "☀️",
            "🌝",
            "🌞",
            "🪐",
            "⭐",
            "🌟",
            "🌠",
            "🌌",
            "☁️",
            "⛅",
            "⛈️",
            "🌤️",
            "🌥️",
            "🌦️",
            "🌧️",
            "🌨️",
            "🌩️",
            "🌪️",
            "🌫️",
            "🌬️",
            "🌀",
            "🌈",
            "🌂",
            "☂️",
            "☔",
            "⛱️",
            "⚡",
            "❄️",
            "☃️",
            "⛄",
            "☄️",
            "🔥",
            "💧",
            "🌊",
            "🎃",
            "🎄",
            "🎆",
            "🎇",
            "🧨",
            "✨",
            "🎈",
            "🎉",
            "🎊",
            "🎋",
            "🎍",
            "🎎",
            "🎏",
            "🎐",
            "🎑",
            "🧧",
            "🎀",
            "🎁",
            "🎗️",
            "🎟️",
            "🎫",
            "🎖️",
            "🏆",
            "🏅",
            "🥇",
            "🥈",
            "🥉",
            "⚽",
            "⚾",
            "🥎",
            "🏀",
            "🏐",
            "🏈",
            "🏉",
            "🎾",
            "🥏",
            "🎳",
            "🏏",
            "🏑",
            "🏒",
            "🥍",
            "🏓",
            "🏸",
            "🥊",
            "🥋",
            "🥅",
            "⛳",
            "⛸️",
            "🎣",
            "🤿",
            "🎽",
            "🎿",
            "🛷",
            "🥌",
            "🎯",
            "🪀",
            "🪁",
            "🔫",
            "🎱",
            "🔮",
            "🪄",
            "🎮",
            "🕹️",
            "🎰",
            "🎲",
            "🧩",
            "🧸",
            "🪅",
            "🪩",
            "🪆",
            "♠️",
            "♥️",
            "♦️",
            "♣️",
            "♟️",
            "🃏",
            "🀄",
            "🎴",
            "🎭",
            "🖼️",
            "🎨",
            "🧵",
            "🪡",
            "🧶",
            "🪢",
            "👓",
            "🕶️",
            "🥽",
            "🥼",
            "🦺",
            "👔",
            "👕",
            "👖",
            "🧣",
            "🧤",
            "🧥",
            "🧦",
            "👗",
            "👘",
            "🥻",
            "🩱",
            "🩲",
            "🩳",
            "👙",
            "👚",
            "🪭",
            "👛",
            "👜",
            "👝",
            "🛍️",
            "🎒",
            "🩴",
            "👞",
            "👟",
            "🥾",
            "🥿",
            "👠",
            "👡",
            "🩰",
            "👢",
            "🪮",
            "👑",
            "👒",
            "🎩",
            "🎓",
            "🧢",
            "🪖",
            "⛑️",
            "📿",
            "💄",
            "💍",
            "💎",
            "🔇",
            "🔈",
            "🔉",
            "🔊",
            "📢",
            "📣",
            "📯",
            "🔔",
            "🔕",
            "🎼",
            "🎵",
            "🎶",
            "🎙️",
            "🎚️",
            "🎛️",
            "🎤",
            "🎧",
            "📻",
            "🎷",
            "🪗",
            "🎸",
            "🎹",
            "🎺",
            "🎻",
            "🪕",
            "🥁",
            "🪘",
            "🪇",
            "🪈",
            "🪉",
            "📱",
            "📲",
            "☎️",
            "📞",
            "📟",
            "📠",
            "🔋",
            "🪫",
            "🔌",
            "💻",
            "🖥️",
            "🖨️",
            "⌨️",
            "🖱️",
            "🖲️",
            "💽",
            "💾",
            "💿",
            "📀",
            "🧮",
            "🎥",
            "🎞️",
            "📽️",
            "🎬",
            "📺",
            "📷",
            "📸",
            "📹",
            "📼",
            "🔍",
            "🔎",
            "🕯️",
            "💡",
            "🔦",
            "🏮",
            "🪔",
            "📔",
            "📕",
            "📖",
            "📗",
            "📘",
            "📙",
            "📚",
            "📓",
            "📒",
            "📃",
            "📜",
            "📄",
            "📰",
            "🗞️",
            "📑",
            "🔖",
            "🏷️",
            "💰",
            "🪙",
            "💴",
            "💵",
            "💶",
            "💷",
            "💸",
            "💳",
            "🧾",
            "💹",
            "✉️",
            "📧",
            "📨",
            "📩",
            "📤",
            "📥",
            "📦",
            "📫",
            "📪",
            "📬",
            "📭",
            "📮",
            "🗳️",
            "✏️",
            "✒️",
            "🖋️",
            "🖊️",
            "🖌️",
            "🖍️",
            "📝",
            "💼",
            "📁",
            "📂",
            "🗂️",
            "📅",
            "📆",
            "🗒️",
            "🗓️",
            "📇",
            "📈",
            "📉",
            "📊",
            "📋",
            "📌",
            "📍",
            "📎",
            "🖇️",
            "📏",
            "📐",
            "✂️",
            "🗃️",
            "🗄️",
            "🗑️",
            "🔒",
            "🔓",
            "🔏",
            "🔐",
            "🔑",
            "🗝️",
            "🔨",
            "🪓",
            "⛏️",
            "⚒️",
            "🛠️",
            "🗡️",
            "⚔️",
            "💣",
            "🪃",
            "🏹",
            "🛡️",
            "🪚",
            "🔧",
            "🪛",
            "🔩",
            "⚙️",
            "🗜️",
            "⚖️",
            "🦯",
            "🔗",
            "⛓️‍💥",
            "⛓️",
            "🪝",
            "🧰",
            "🧲",
            "🪜",
            "🪏",
            "⚗️",
            "🧪",
            "🧫",
            "🧬",
            "🔬",
            "🔭",
            "📡",
            "💉",
            "🩸",
            "💊",
            "🩹",
            "🩼",
            "🩺",
            "🩻",
            "🚪",
            "🛗",
            "🪞",
            "🪟",
            "🛏️",
            "🛋️",
            "🪑",
            "🚽",
            "🪠",
            "🚿",
            "🛁",
            "🪤",
            "🪒",
            "🧴",
            "🧷",
            "🧹",
            "🧺",
            "🧻",
            "🪣",
            "🧼",
            "🫧",
            "🪥",
            "🧽",
            "🧯",
            "🛒",
            "🚬",
            "⚰️",
            "🪦",
            "⚱️",
            "🧿",
            "🪬",
            "🗿",
            "🪧",
            "🪪",
            "🏧",
            "🚮",
            "🚰",
            "♿",
            "🚹",
            "🚺",
            "🚻",
            "🚼",
            "🚾",
            "🛂",
            "🛃",
            "🛄",
            "🛅",
            "⚠️",
            "🚸",
            "⛔",
            "🚫",
            "🚳",
            "🚭",
            "🚯",
            "🚱",
            "🚷",
            "📵",
            "🔞",
            "☢️",
            "☣️",
            "⬆️",
            "↗️",
            "➡️",
            "↘️",
            "⬇️",
            "↙️",
            "⬅️",
            "↖️",
            "↕️",
            "↔️",
            "↩️",
            "↪️",
            "⤴️",
            "⤵️",
            "🔃",
            "🔄",
            "🔙",
            "🔚",
            "🔛",
            "🔜",
            "🔝",
            "🛐",
            "⚛️",
            "🕉️",
            "✡️",
            "☸️",
            "☯️",
            "✝️",
            "☦️",
            "☪️",
            "☮️",
            "🕎",
            "🔯",
            "🪯",
            "♈",
            "♉",
            "♊",
            "♋",
            "♌",
            "♍",
            "♎",
            "♏",
            "♐",
            "♑",
            "♒",
            "♓",
            "⛎",
            "🔀",
            "🔁",
            "🔂",
            "▶️",
            "⏩",
            "⏭️",
            "⏯️",
            "◀️",
            "⏪",
            "⏮️",
            "🔼",
            "⏫",
            "🔽",
            "⏬",
            "⏸️",
            "⏹️",
            "⏺️",
            "⏏️",
            "🎦",
            "🔅",
            "🔆",
            "📶",
            "🛜",
            "📳",
            "📴",
            "♀️",
            "♂️",
            "⚧️",
            "✖️",
            "➕",
            "➖",
            "➗",
            "🟰",
            "♾️",
            "‼️",
            "⁉️",
            "❓",
            "❔",
            "❕",
            "❗",
            "〰️",
            "💱",
            "💲",
            "⚕️",
            "♻️",
            "⚜️",
            "🔱",
            "📛",
            "🔰",
            "⭕",
            "✅",
            "☑️",
            "✔️",
            "❌",
            "❎",
            "➰",
            "➿",
            "〽️",
            "✳️",
            "✴️",
            "❇️",
            "©️",
            "®️",
            "™️",
            "🫟",
            "#️⃣",
            "*️⃣",
            "0️⃣",
            "1️⃣",
            "2️⃣",
            "3️⃣",
            "4️⃣",
            "5️⃣",
            "6️⃣",
            "7️⃣",
            "8️⃣",
            "9️⃣",
            "🔟",
            "🔠",
            "🔡",
            "🔢",
            "🔣",
            "🔤",
            "🅰️",
            "🆎",
            "🅱️",
            "🆑",
            "🆒",
            "🆓",
            "ℹ️",
            "🆔",
            "Ⓜ️",
            "🆕",
            "🆖",
            "🅾️",
            "🆗",
            "🅿️",
            "🆘",
            "🆙",
            "🆚",
            "🈁",
            "🈂️",
            "🈷️",
            "🈶",
            "🈯",
            "🉐",
            "🈹",
            "🈚",
            "🈲",
            "🉑",
            "🈸",
            "🈴",
            "🈳",
            "㊗️",
            "㊙️",
            "🈺",
            "🈵",
            "🔴",
            "🟠",
            "🟡",
            "🟢",
            "🔵",
            "🟣",
            "🟤",
            "⚫",
            "⚪",
            "🟥",
            "🟧",
            "🟨",
            "🟩",
            "🟦",
            "🟪",
            "🟫",
            "⬛",
            "⬜",
            "◼️",
            "◻️",
            "◾",
            "◽",
            "▪️",
            "▫️",
            "🔶",
            "🔷",
            "🔸",
            "🔹",
            "🔺",
            "🔻",
            "💠",
            "🔘",
            "🔳",
            "🔲",
            "🏁",
            "🚩",
            "🎌",
            "🏴",
            "🏳️",
            "🏳️‍🌈",
            "🏳️‍⚧️",
            "🏴‍☠️",
            "🇦🇨",
            "🇦🇩",
            "🇦🇪",
            "🇦🇫",
            "🇦🇬",
            "🇦🇮",
            "🇦🇱",
            "🇦🇲",
            "🇦🇴",
            "🇦🇶",
            "🇦🇷",
            "🇦🇸",
            "🇦🇹",
            "🇦🇺",
            "🇦🇼",
            "🇦🇽",
            "🇦🇿",
            "🇧🇦",
            "🇧🇧",
            "🇧🇩",
            "🇧🇪",
            "🇧🇫",
            "🇧🇬",
            "🇧🇭",
            "🇧🇮",
            "🇧🇯",
            "🇧🇱",
            "🇧🇲",
            "🇧🇳",
            "🇧🇴",
            "🇧🇶",
            "🇧🇷",
            "🇧🇸",
            "🇧🇹",
            "🇧🇻",
            "🇧🇼",
            "🇧🇾",
            "🇧🇿",
            "🇨🇦",
            "🇨🇨",
            "🇨🇩",
            "🇨🇫",
            "🇨🇬",
            "🇨🇭",
            "🇨🇮",
            "🇨🇰",
            "🇨🇱",
            "🇨🇲",
            "🇨🇳",
            "🇨🇴",
            "🇨🇵",
            "🇨🇶",
            "🇨🇷",
            "🇨🇺",
            "🇨🇻",
            "🇨🇼",
            "🇨🇽",
            "🇨🇾",
            "🇨🇿",
            "🇩🇪",
            "🇩🇬",
            "🇩🇯",
            "🇩🇰",
            "🇩🇲",
            "🇩🇴",
            "🇩🇿",
            "🇪🇦",
            "🇪🇨",
            "🇪🇪",
            "🇪🇬",
            "🇪🇭",
            "🇪🇷",
            "🇪🇸",
            "🇪🇹",
            "🇪🇺",
            "🇫🇮",
            "🇫🇯",
            "🇫🇰",
            "🇫🇲",
            "🇫🇴",
            "🇫🇷",
            "🇬🇦",
            "🇬🇧",
            "🇬🇩",
            "🇬🇪",
            "🇬🇫",
            "🇬🇬",
            "🇬🇭",
            "🇬🇮",
            "🇬🇱",
            "🇬🇲",
            "🇬🇳",
            "🇬🇵",
            "🇬🇶",
            "🇬🇷",
            "🇬🇸",
            "🇬🇹",
            "🇬🇺",
            "🇬🇼",
            "🇬🇾",
            "🇭🇰",
            "🇭🇲",
            "🇭🇳",
            "🇭🇷",
            "🇭🇹",
            "🇭🇺",
            "🇮🇨",
            "🇮🇩",
            "🇮🇪",
            "🇮🇱",
            "🇮🇲",
            "🇮🇳",
            "🇮🇴",
            "🇮🇶",
            "🇮🇷",
            "🇮🇸",
            "🇮🇹",
            "🇯🇪",
            "🇯🇲",
            "🇯🇴",
            "🇯🇵",
            "🇰🇪",
            "🇰🇬",
            "🇰🇭",
            "🇰🇮",
            "🇰🇲",
            "🇰🇳",
            "🇰🇵",
            "🇰🇷",
            "🇰🇼",
            "🇰🇾",
            "🇰🇿",
            "🇱🇦",
            "🇱🇧",
            "🇱🇨",
            "🇱🇮",
            "🇱🇰",
            "🇱🇷",
            "🇱🇸",
            "🇱🇹",
            "🇱🇺",
            "🇱🇻",
            "🇱🇾",
            "🇲🇦",
            "🇲🇨",
            "🇲🇩",
            "🇲🇪",
            "🇲🇫",
            "🇲🇬",
            "🇲🇭",
            "🇲🇰",
            "🇲🇱",
            "🇲🇲",
            "🇲🇳",
            "🇲🇴",
            "🇲🇵",
            "🇲🇶",
            "🇲🇷",
            "🇲🇸",
            "🇲🇹",
            "🇲🇺",
            "🇲🇻",
            "🇲🇼",
            "🇲🇽",
            "🇲🇾",
            "🇲🇿",
            "🇳🇦",
            "🇳🇨",
            "🇳🇪",
            "🇳🇫",
            "🇳🇬",
            "🇳🇮",
            "🇳🇱",
            "🇳🇴",
            "🇳🇵",
            "🇳🇷",
            "🇳🇺",
            "🇳🇿",
            "🇴🇲",
            "🇵🇦",
            "🇵🇪",
            "🇵🇫",
            "🇵🇬",
            "🇵🇭",
            "🇵🇰",
            "🇵🇱",
            "🇵🇲",
            "🇵🇳",
            "🇵🇷",
            "🇵🇸",
            "🇵🇹",
            "🇵🇼",
            "🇵🇾",
            "🇶🇦",
            "🇷🇪",
            "🇷🇴",
            "🇷🇸",
            "🇷🇺",
            "🇷🇼",
            "🇸🇦",
            "🇸🇧",
            "🇸🇨",
            "🇸🇩",
            "🇸🇪",
            "🇸🇬",
            "🇸🇭",
            "🇸🇮",
            "🇸🇯",
            "🇸🇰",
            "🇸🇱",
            "🇸🇲",
            "🇸🇳",
            "🇸🇴",
            "🇸🇷",
            "🇸🇸",
            "🇸🇹",
            "🇸🇻",
            "🇸🇽",
            "🇸🇾",
            "🇸🇿",
            "🇹🇦",
            "🇹🇨",
            "🇹🇩",
            "🇹🇫",
            "🇹🇬",
            "🇹🇭",
            "🇹🇯",
            "🇹🇰",
            "🇹🇱",
            "🇹🇲",
            "🇹🇳",
            "🇹🇴",
            "🇹🇷",
            "🇹🇹",
            "🇹🇻",
            "🇹🇼",
            "🇹🇿",
            "🇺🇦",
            "🇺🇬",
            "🇺🇲",
            "🇺🇳",
            "🇺🇸",
            "🇺🇾",
            "🇺🇿",
            "🇻🇦",
            "🇻🇨",
            "🇻🇪",
            "🇻🇬",
            "🇻🇮",
            "🇻🇳",
            "🇻🇺",
            "🇼🇫",
            "🇼🇸",
            "🇽🇰",
            "🇾🇪",
            "🇾🇹",
            "🇿🇦",
            "🇿🇲",
            "🇿🇼",
            "🏴󠁧󠁢󠁥󠁮󠁧󠁿",
            "🏴󠁧󠁢󠁳󠁣󠁴󠁿",
            "🏴󠁧󠁢󠁷󠁬󠁳󠁿"
        ]

        # iOS style emoji sources
        self.ios_sources = [
            "https://github.com/iamcal/emoji-data/raw/master/img-apple-160/",
            "https://raw.githubusercontent.com/iamcal/emoji-data/master/img-apple-160/",
            "https://cdn.jsdelivr.net/gh/iamcal/emoji-data@master/img-apple-160/",
        ]

    def get_unicode_codepoint(self, emoji):
        """Get Unicode codepoint for emoji"""
        try:
            # Handle complex emojis
            codepoints = []
            for char in emoji:
                if ord(char) > 127:  # Non-ASCII characters
                    codepoints.append(f"{ord(char):04x}")

            if codepoints:
                return "-".join(codepoints)
            return None
        except:
            return None

    def download_emoji_ios_style(self, emoji, filename):
        """Download iOS style emoji from multiple sources"""
        codepoint = self.get_unicode_codepoint(emoji)
        if not codepoint:
            return False

        # Try different sources
        for source_url in self.ios_sources:
            try:
                url = f"{source_url}{codepoint}.png"

                headers = {
                    'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15'
                }

                response = requests.get(url, headers=headers, timeout=10)
                if response.status_code == 200 and len(response.content) > 1000:  # Valid image
                    png_path = os.path.join(self.assets_dir, f"{filename}.png")
                    with open(png_path, 'wb') as f:
                        f.write(response.content)
                    return True

            except Exception as e:
                continue

        # Fallback: Try Apple's official emoji API (if available)
        try:
            # Apple's emoji API endpoint
            url = f"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/apple/285/{codepoint}.png"

            headers = {
                'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15'
            }

            response = requests.get(url, headers=headers, timeout=10)
            if response.status_code == 200 and len(response.content) > 1000:
                png_path = os.path.join(self.assets_dir, f"{filename}.png")
                with open(png_path, 'wb') as f:
                    f.write(response.content)
                return True

        except Exception as e:
            pass

        # Final fallback: Create placeholder with emoji text
        return self.create_emoji_placeholder(emoji, filename)

    def create_emoji_placeholder(self, emoji, filename):
        """Create a placeholder PNG with emoji text"""
        try:
            from PIL import Image, ImageDraw, ImageFont

            # Create 160x160 image (iOS emoji size)
            img = Image.new('RGBA', (160, 160), (255, 255, 255, 0))
            draw = ImageDraw.Draw(img)

            # Try to use system font that supports emoji
            try:
                font = ImageFont.truetype("Arial Unicode MS", 120)
            except:
                try:
                    font = ImageFont.truetype("NotoColorEmoji.ttf", 120)
                except:
                    font = ImageFont.load_default()

            # Get text size and center it
            bbox = draw.textbbox((0, 0), emoji, font=font)
            text_width = bbox[2] - bbox[0]
            text_height = bbox[3] - bbox[1]

            x = (160 - text_width) // 2
            y = (160 - text_height) // 2

            draw.text((x, y), emoji, font=font, fill=(0, 0, 0, 255))

            png_path = os.path.join(self.assets_dir, f"{filename}.png")
            img.save(png_path, "PNG")
            return True

        except Exception as e:
            print(f"Could not create placeholder for {emoji}: {e}")
            return False

    def generate_filename(self, emoji):
        """Generate safe filename from emoji"""
        codepoint = self.get_unicode_codepoint(emoji)
        if codepoint:
            return f"emoji_{codepoint}"
        return f"emoji_{abs(hash(emoji))}"

    def download_all_emojis(self):
        """Download all iOS style emojis"""
        emoji_mapping = {}
        successful_downloads = 0

        print("🍎 Downloading iOS style emojis...")

        for i, emoji in enumerate(self.emoji_list):
            filename = self.generate_filename(emoji)
            print(f"Downloading {emoji} ({i+1}/{len(self.emoji_list)}) -> {filename}")

            if self.download_emoji_ios_style(emoji, filename):
                emoji_mapping[emoji] = f"assets/emojis/{filename}.png"
                successful_downloads += 1
                print(f"✅ Downloaded {emoji}")
            else:
                print(f"❌ Failed to download {emoji}")

            time.sleep(0.2)  # Be respectful to servers

        print(f"🎉 Successfully downloaded {successful_downloads}/{len(self.emoji_list)} emojis")
        return emoji_mapping

    def generate_flutter_widget(self, emoji_mapping):
        """Generate optimized Flutter widget"""
        widget_code = f'''import 'package:flutter/material.dart';

class IOSEmojiRenderer extends StatelessWidget {{
  final String text;
  final double fontSize;
  final TextStyle? textStyle;
  final EdgeInsets? padding;
  
  const IOSEmojiRenderer({{
    Key? key,
    required this.text,
    this.fontSize = 24.0,
    this.textStyle,
    this.padding,
  }}) : super(key: key);
  
  // iOS style emoji mappings
  static const Map<String, String> _emojiMap = {json.dumps(emoji_mapping, ensure_ascii=False, indent=4)};
  
  @override
  Widget build(BuildContext context) {{
    return Container(
      padding: padding,
      child: RichText(
        text: TextSpan(
          style: textStyle ?? TextStyle(
            fontSize: fontSize,
            color: Colors.black,
            fontFamily: 'SF Pro Text', // iOS font
          ),
          children: _buildTextSpans(text),
        ),
      ),
    );
  }}
  
  List<InlineSpan> _buildTextSpans(String text) {{
    List<InlineSpan> spans = [];
    StringBuffer buffer = StringBuffer();
    
    List<String> chars = text.split('');
    
    for (int i = 0; i < chars.length; i++) {{
      String char = chars[i];
      
      // Try to match emoji starting from current position
      String? matchedEmoji = _findLongestEmojiMatch(chars, i);
      
      if (matchedEmoji != null && _emojiMap.containsKey(matchedEmoji)) {{
        // Add accumulated text before emoji
        if (buffer.isNotEmpty) {{
          spans.add(TextSpan(text: buffer.toString()));
          buffer.clear();
        }}
        
        // Add iOS emoji as image
        spans.add(WidgetSpan(
          alignment: PlaceholderAlignment.middle,
          child: Container(
            width: fontSize * 1.2,
            height: fontSize * 1.2,
            child: Image.asset(
              _emojiMap[matchedEmoji]!,
              width: fontSize * 1.2,
              height: fontSize * 1.2,
              fit: BoxFit.contain,
              errorBuilder: (context, error, stackTrace) {{
                return Text(
                  matchedEmoji,
                  style: TextStyle(fontSize: fontSize),
                );
              }},
            ),
          ),
        ));
        
        // Skip processed emoji characters
        i += matchedEmoji.length - 1;
      }} else {{
        buffer.write(char);
      }}
    }}
    
    // Add remaining text
    if (buffer.isNotEmpty) {{
      spans.add(TextSpan(text: buffer.toString()));
    }}
    
    return spans;
  }}
  
  String? _findLongestEmojiMatch(List<String> chars, int startIndex) {{
    // Try different lengths starting from longest possible
    for (int length = 8; length >= 1; length--) {{
      if (startIndex + length <= chars.length) {{
        String candidate = chars.sublist(startIndex, startIndex + length).join('');
        if (_emojiMap.containsKey(candidate)) {{
          return candidate;
        }}
      }}
    }}
    return null;
  }}
}}

// Message bubble widget with iOS style emojis
class IOSMessageBubble extends StatelessWidget {{
  final String message;
  final bool isMe;
  final VoidCallback? onTap;
  
  const IOSMessageBubble({{
    Key? key,
    required this.message,
    this.isMe = true,
    this.onTap,
  }}) : super(key: key);
  
  @override
  Widget build(BuildContext context) {{
    return GestureDetector(
      onTap: onTap,
      child: Container(
        margin: EdgeInsets.symmetric(vertical: 4, horizontal: 16),
        child: Row(
          mainAxisAlignment: isMe ? MainAxisAlignment.end : MainAxisAlignment.start,
          children: [
            Container(
              constraints: BoxConstraints(
                maxWidth: MediaQuery.of(context).size.width * 0.75,
              ),
              decoration: BoxDecoration(
                color: isMe ? Colors.blue : Colors.grey[300],
                borderRadius: BorderRadius.circular(20),
              ),
              padding: EdgeInsets.symmetric(horizontal: 16, vertical: 10),
              child: IOSEmojiRenderer(
                text: message,
                fontSize: 16,
                textStyle: TextStyle(
                  color: isMe ? Colors.white : Colors.black,
                  fontWeight: FontWeight.w400,
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }}
}}

// Demo page
class IOSEmojiDemo extends StatelessWidget {{
  @override
  Widget build(BuildContext context) {{
    return Scaffold(
      backgroundColor: Colors.white,
      appBar: AppBar(
        title: Text('iOS Style Emoji'),
        backgroundColor: Colors.blue,
        elevation: 0,
      ),
      body: ListView(
        padding: EdgeInsets.all(16),
        children: [
          Card(
            child: Padding(
              padding: EdgeInsets.all(16),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text('Basic Usage:', style: TextStyle(fontWeight: FontWeight.bold)),
                  SizedBox(height: 10),
                  IOSEmojiRenderer(
                    text: "Salom! 😀 Qanday holsiz? 😊👋",
                    fontSize: 18,
                  ),
                ],
              ),
            ),
          ),
          SizedBox(height: 16),
          Card(
            child: Padding(
              padding: EdgeInsets.all(16),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text('Reactions:', style: TextStyle(fontWeight: FontWeight.bold)),
                  SizedBox(height: 10),
                  IOSEmojiRenderer(
                    text: "👍❤️😍🔥💯🎉",
                    fontSize: 32,
                  ),
                ],
              ),
            ),
          ),
          SizedBox(height: 16),
          Card(
            child: Padding(
              padding: EdgeInsets.all(16),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text('Message Bubbles:', style: TextStyle(fontWeight: FontWeight.bold)),
                  SizedBox(height: 10),
                  IOSMessageBubble(
                    message: "Salom! 😊 Qanday holsiz?",
                    isMe: false,
                  ),
                  IOSMessageBubble(
                    message: "Yaxshi! 😀 O'zingchi? 👋",
                    isMe: true,
                  ),
                  IOSMessageBubble(
                    message: "Hammasi joyida! 🎉✨",
                    isMe: false,
                  ),
                ],
              ),
            ),
          ),
        ],
      ),
    );
  }}
}}'''

        widget_path = os.path.join(self.lib_dir, "ios_emoji_renderer.dart")
        with open(widget_path, "w", encoding="utf-8") as f:
            f.write(widget_code)

        print("✅ Generated ios_emoji_renderer.dart")

    def generate_installation_guide(self):
        """Generate step-by-step installation guide"""
        guide = '''# iOS Style Emoji Flutter Package

## 📱 Installation Guide

### 1. Add to pubspec.yaml:
```yaml
flutter:
  assets:
    - assets/emojis/
```

### 2. Install dependencies:
```bash
flutter pub get
```

### 3. Import and use:
```dart
import 'ios_emoji_renderer.dart';

// Basic usage
IOSEmojiRenderer(
  text: "Salom! 😀 Qanday holsiz? 😊👋",
  fontSize: 18,
)

// Message bubble
IOSMessageBubble(
  message: "Salom! 😊 Qanday holsiz?",
  isMe: false,
)
```

## 🎯 Features:
- ✅ Real iOS style emoji rendering
- ✅ High quality PNG images
- ✅ Automatic text + emoji mixing
- ✅ Message bubble component
- ✅ Customizable font sizes
- ✅ Error fallback to system emoji

## 🚀 Usage Examples:

### Simple Text with Emojis:
```dart
IOSEmojiRenderer(
  text: "Bu juda zo'r! 🎉🥳 Rahmat! 🙏",
  fontSize: 20,
)
```

### Custom Styling:
```dart
IOSEmojiRenderer(
  text: "Yaxshi! 😀 O'zingchi? 👋",
  fontSize: 16,
  textStyle: TextStyle(
    color: Colors.blue,
    fontWeight: FontWeight.w500,
  ),
)
```

### Message Bubbles:
```dart
Column(
  children: [
    IOSMessageBubble(
      message: "Salom! 😊",
      isMe: false,
    ),
    IOSMessageBubble(
      message: "Salom! 👋 Qanday holsiz?",
      isMe: true,
    ),
  ],
)
```

## 📦 File Structure:
```
lib/
  ios_emoji_renderer.dart
assets/
  emojis/
    emoji_1f600.png
    emoji_1f603.png
    ...
```

## 🔧 Customization:
- Change fontSize for different sizes
- Apply custom TextStyle
- Use in any widget tree
- Supports all standard emojis

Happy coding! 🎉
'''

        guide_path = os.path.join(self.output_dir, "README.md")
        with open(guide_path, "w", encoding="utf-8") as f:
            f.write(guide)

        print("✅ Generated README.md")

    def run(self):
        """Run the complete iOS emoji download process"""
        print("🍎 Starting iOS Style Emoji Downloader...")
        print("📱 This will download real iOS style emojis...")

        # Install PIL if not available
        try:
            from PIL import Image
        except ImportError:
            print("📦 Installing Pillow for image processing...")
            os.system("pip install Pillow")

        # Download iOS emojis
        emoji_mapping = self.download_all_emojis()

        if not emoji_mapping:
            print("❌ No emojis downloaded successfully!")
            return

        # Generate Flutter code
        self.generate_flutter_widget(emoji_mapping)

        # Generate installation guide
        self.generate_installation_guide()

        print(f"""
🎉 iOS Style Emoji Package Ready!

📱 Downloaded {len(emoji_mapping)} iOS style emojis
📁 Files generated:
   - assets/emojis/ (iOS emoji PNG files)
   - lib/ios_emoji_renderer.dart (Flutter widget)
   - README.md (Installation guide)

🚀 Quick Start:
1. Copy files to your Flutter project
2. Add assets to pubspec.yaml
3. Import and use IOSEmojiRenderer

💡 Example:
IOSEmojiRenderer(
  text: "Salom! 😀 Qanday holsiz? 😊👋",
  fontSize: 18,
)

Ready to use! 🎊
""")

if __name__ == "__main__":
    # Install required packages
    print("📦 Installing required packages...")
    os.system("pip install requests Pillow")

    # Run the iOS emoji downloader
    downloader = iOSEmojiDownloader()
    downloader.run()